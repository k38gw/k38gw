<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
  <title>works</title>

  <!-- 共通CSS -->
  <link rel="stylesheet" href="style.css">

  <!-- works専用CSS（ギャラリー・ライトボックス） -->
    <style>
    /* --- ギャラリー --- */
    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 14px;
      margin-bottom: 30px;
    }

.gallery figure {
  height: auto; /* ← ここを変更！ */
  display: flex;
  flex-direction: column;
  padding: 8px;
  box-sizing: border-box;
  background: #fff;
  border-radius: 4px;
  overflow: hidden;
  text-align: center;
  margin: 0;
}

.gallery img {
  width: 96%; /* ← 100% → 96% にするだけ */ 
  margin: 0 auto;
  height: auto; /* ← ここが重要！ */
  object-fit: contain;
  display: block;
}

.gallery figcaption {
  margin-top: 6px;
  font-size: 0.85em;
  color: #444;
  line-height: 1.2em;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

    /* --- ライトボックス --- */
    #lightbox {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 999;
    }

    #lightbox-content {
      max-width: 90vw;
      max-height: 90vh;
      text-align: center;
      position: relative;
    }

    #lightbox-img {
      max-width: 100%;
      max-height: 80vh;
      height: auto;
      width: auto;
    }

    #lightbox-caption {
      color: white;
      margin-top: 10px;
      font-size: 1em;
      max-height: 10vh; /* ← キャプションの高さを確保 */
      overflow-y: auto; /* ← 長い場合はスクロール */
    }

    /* --- 矢印（画面左右に固定） --- */
    .nav-btn {
      position: fixed;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0, 0, 0, 0.45);
      border: none;
      color: white;
      font-size: 2.2rem;
      cursor: pointer;
      padding: 10px 14px;
      border-radius: 50%;
      user-select: none;
      z-index: 1000;
    }

    #prev-btn {
      left: 20px;
    }

    #next-btn {
      right: 20px;
    }

    @media (max-width: 600px) {
      .nav-btn {
        font-size: 1.8rem;
        padding: 8px 10px;
      }
    }

@media (max-width: 600px) and (orientation: portrait) {
  #lightbox-img {
    width: auto;
    height: auto;
    max-height: 88vh;   /* ← 上限だけ指定する（固定しない） */
    max-width: 100%;
    object-fit: contain; /* ← 比率を絶対に守る */
  }
}

      
</style>

</head>

<body>

  <h3>works</h3>

  <div class="gallery">

    <!-- ここから作品一覧（あなたの元コードをそのまま） -->
    <figure>
      <img src="img/001.png" alt="image">
      <figcaption>こども未来計画表紙カット</figcaption>
    </figure>
    <figure>
      <img src="img/002.JPEG" alt="image">
      <figcaption>風船と女の子</figcaption>
    </figure>
    <figure>
      <img src="img/003.png" alt="image">
      <figcaption>発達障がい児者支援計画表紙カット</figcaption>
    </figure>
    <figure>
      <img src="img/004.JPEG" alt="image">
      <figcaption>女の子</figcaption>
    </figure>
    <figure>
      <img src="img/005.JPEG" alt="image">
      <figcaption>ぱんだ通信</figcaption>
    </figure>
    <figure>
      <img src="img/006.JPEG" alt="image">
      <figcaption>2025年賀状</figcaption>
    </figure>
    <figure>
      <img src="img/007.png" alt="image">
      <figcaption>共済会誌新年号表紙カット</figcaption>
    </figure>
    <figure>
      <img src="img/008.png" alt="image">
      <figcaption>おかぼうくん（防災）</figcaption>
    </figure>
    <figure>
      <img src="img/009.png" alt="image">
      <figcaption>なおけちゃん</figcaption>
    </figure>
    <figure>
      <img src="img/010.png" alt="image">
      <figcaption>おかぼうくん（体操服）</figcaption>
    </figure>
    <figure>
      <img src="img/010-1.png" alt="image">
      <figcaption>おかぼうくん（体操服）</figcaption>
    </figure>
    <figure>
      <img src="img/011.png" alt="image">
      <figcaption>おかフラちゃん</figcaption>
    </figure>
    <figure>
      <img src="img/012.png" alt="image">
      <figcaption>おかぼうくん（探検服）</figcaption>
    </figure>
    <figure>
      <img src="img/013.png" alt="image">
      <figcaption>トモヒロとユイ</figcaption>
    </figure>
    <figure>
      <img src="img/014.png" alt="image">
      <figcaption>子育て広場</figcaption>
    </figure>
    <figure>
      <img src="img/015.png" alt="image">
      <figcaption>ラグビーチーム募集ちらしカット</figcaption>
    </figure>
    <figure>
      <img src="img/015-1.png" alt="image">
      <figcaption>ラグビーチーム募集ちらしカット</figcaption>
    </figure>
    <figure>
      <img src="img/016.png" alt="image">
      <figcaption>ふくエネロゴ（不採用）</figcaption>
    </figure>
    <figure>
      <img src="img/017.png" alt="image">
      <figcaption>ふくエネロゴ（不採用）</figcaption>
    </figure>
    <figure>
      <img src="img/018.png" alt="image">
      <figcaption>カフェ研修室</figcaption>
    </figure>

  </div>

  <!-- ライトボックス -->
  <div id="lightbox">
    <div id="lightbox-content">
      <button id="prev-btn" class="nav-btn">＜</button>

      <img id="lightbox-img" src="">
      <p id="lightbox-caption"></p>

      <button id="next-btn" class="nav-btn">＞</button>
    </div>
  </div>

  <hr>
  <a href="index.html">home</a>

  <!-- JavaScript -->

<script>
  const images = Array.from(document.querySelectorAll(".gallery img"));
  const lightbox = document.getElementById("lightbox");
  const lightboxImg = document.getElementById("lightbox-img");
  const caption = document.getElementById("lightbox-caption");

  let currentIndex = 0;

  // ギャラリーの画像クリックでライトボックスを開く
  images.forEach((img, index) => {
    img.addEventListener("click", () => {
      currentIndex = index;
      showImage();
    });
  });

  function showImage() {
    const fig = images[currentIndex].closest("figure");
    const cap = fig ? fig.querySelector("figcaption") : null;

    lightboxImg.src = images[currentIndex].src;
    caption.textContent = cap ? cap.textContent : "";

    lightbox.style.display = "flex";
  }

  /* 背景クリックで閉じる（矢印や画像では閉じない） */
  lightbox.addEventListener("click", (e) => {
    if (e.target === lightbox) {
      lightbox.style.display = "none";
    }
  });

  /* キーボード操作 */
  document.addEventListener("keydown", (e) => {
    if (lightbox.style.display !== "flex") return;

    if (e.key === "ArrowRight") {
      currentIndex = (currentIndex + 1) % images.length;
      showImage();
    }
    if (e.key === "ArrowLeft") {
      currentIndex = (currentIndex - 1 + images.length) % images.length;
      showImage();
    }
    if (e.key === "Escape") {
      lightbox.style.display = "none";
    }
  });

  /* --- 画像タップで次へ進む（スマホでもPCでもクリック/タップ対応） --- */
  lightboxImg.addEventListener("click", (e) => {
    e.stopPropagation(); // 背景クリック扱いにならないように
    currentIndex = (currentIndex + 1) % images.length;
    showImage();
  });

  /* 矢印クリック */
  document.getElementById("prev-btn").addEventListener("click", (e) => {
    e.stopPropagation();
    currentIndex = (currentIndex - 1 + images.length) % images.length;
    showImage();
  });

  document.getElementById("next-btn").addEventListener("click", (e) => {
    e.stopPropagation();
    currentIndex = (currentIndex + 1) % images.length;
    showImage();
  });

  /* --- ここに存在していた「スワイプ操作」の touchstart/touchend は削除しました --- */
</script>

</body>
</html>
















